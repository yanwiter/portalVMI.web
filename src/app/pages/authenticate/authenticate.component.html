<div class="otp-container">
    <div class="otp-card">
        <p class="text-color-secondary block mb-5 text-center">Por favor, insira o código enviado para o e-mail <strong> {{ email }}</strong>.</p>
        
        <p-inputOtp [(ngModel)]="value" [length]="6" style="gap: 0">
            <ng-template pTemplate="input" let-token let-events="events" let-index="index">
                <input 
                    pInputText
                    type="text" 
                    [maxLength]="1" 
                    (input)="events.input($event)" 
                    (keydown)="events.keydown($event)"
                    (paste)="events.paste($event)"
                    [attr.value]="token" 
                    class="custom-otp-input" />
                <div *ngIf="index === 3" class="px-3 separator">
                    <i class="pi pi-minus"></i>
                </div>
            </ng-template>
        </p-inputOtp>
        
        <div class="flex justify-content-between mt-5 align-self-stretch button-group">
            @if(resendEnabled) {
            <p-button 
                [label]="'Reenviar código'" 
                [link]="true" 
                class="p-0 resend-button"
                [disabled]="!resendEnabled"
                (onClick)="resendCode()"/>
            } @else {
                <label for="countdown" class="resend-button">Reenviar código em {{ countdown }}s</label>
            }
            <button class="btn-primary" (click)="validateCode()">Autenticar</button>
        </div>
    </div>
</div>